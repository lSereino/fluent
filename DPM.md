#DPM模型
#耦合与非耦合
稳态追踪和非稳态追踪
粒子包
粒子注入的质量流率可转换为单位时间内注入的颗粒数，每个包裹代表了总连续质量流率的一小部分，松弛时间=粒子动量/阻力
在定义初始条件时，可以使用几个输入参数来调整包裹的数量
1.注射位置的数量和注射频率
2.尺寸分布中的尺寸数量（双R分布）
3.湍流色散中的随机尝试次数（指定粒子的湍流色散）
4.喷雾剂的分解特性
大量的包在计算上很昂贵，但它通常有助于收敛

如果选择耦合选项：则出现DPM迭代间隔的输入，控制跟踪粒子的频率（DPM Iteration Interval）
对于稳态模拟，增加DPM迭代时间将增加稳定性，但需要更多的迭代来收敛，
每个迭代时间更新DPM源【Update DPM Sources Every Flow Iteration】：对于非定常模拟，这个选项是默认的（作用就是不重复跟踪粒子）

颗粒的稳瞬态处理

离散相位模型使用的是拉格朗日方法推导出底层物理方程，这些方程是瞬态求解的，离散相模型中的瞬态数值既可用于求解稳态流动，也可用于求解瞬态流动

在离散相模型对话框(第4300页)中，您可以选择以非定常方式还是以定常方式处理粒子。这个选项可以独立于求解器的设置来选择。因此，即使由于数值原因选择瞬态求解器，也可以执行稳态轨迹模拟。在求解稳定连续相方程时，还可以指定非定常粒子跟踪。这可以用于提高非常大的粒子源项的数值稳定性，或者仅仅用于后处理目的。当你启用一个破碎或碰撞模型来模拟喷雾时，非定常粒子跟踪将自动打开

当非定常粒子跟踪被启用时，会出现新的选项，如果解出连续相的稳态方程，只需要输入粒子时间步长【(Particle Time Step Size】和时间步长【(Particle Time Step Size】每次进行DPM迭代时即可跟踪粒子
当增加时间步长时，液滴穿透区域的速度会更快

当求解连续相的非定常方程时，必须决定是使用流体流动时间步长【Fluid Flow Time Step】注入粒子，还是选择独立于流体流动时间步长的粒子时间步长Particle Time Step Size，对于后一种，您可以将离散相模型与连续方程的时间步长的变化结合使用
如果不使用流体流动时间步长，则必须决定何时为新时间步长注入颗粒，可以在粒子时间步长或流体流动时间步长注入粒子，在任何情况下，只要用于计算单个轨迹的最大时间步长足够多，粒子将始终以与连续流求解器的流动时间一致的方式被跟踪

包裹释放方法
标准
每个时间步对内阁注入流注入单个包，包裹中粒子的数量NP

  
NP：单个包中的粒子数量
Ms带点：粒子流的质量流速
T:时间步长
Mp：粒子质量
这是默认的方法

常数
为每个包裹注入用户自定的数量的粒子，包裹的数量是确定的，以满足特定的质量流量和颗粒尺寸分布的注射

恒定质量
使用用户自定的包裹质量注入包裹，包裹的数量是确定的，以满足特定的质量流量和颗粒尺寸分布的注射

恒定粒径
注入用户自定的包裹直径的包裹，包裹数量确定，以满足特定的质量流量和颗粒尺寸分布的注射

注意：恒定数量、恒定质量、恒定直径的较低值导致注入的包裹数量较多，DPM相的离散化程度较好，计算准确性和稳定性升高，但是计算成本增大


在稳态模拟中，粒子以用户指定的间隔(DPM迭代间隔)跟踪。单个粒子从它们的注入位置开始被跟踪，直到它们逃离区域或满足某些终止条件。只有当全局迭代次数等于或大于DPM迭代间隔时，才会进行粒子跟踪。在跟踪过程中更新粒子源，然后在随后的流动迭代中应用于气相

在瞬态流动模拟中，粒子跟踪总是发生在每个流动时间步长的开始，而与DPM迭代间隔无关。在当前连续相溶液的基础上，对颗粒进行了时间上的超前处理，更新了DPM源。DPM源一直占上风，直到粒子跟踪器下次运行

(瞬态流)如果DPM迭代间隔大于或等于最大迭代/时间步长，则每个时间步长只跟踪一次粒子。如果DPM迭代间隔小于最大迭代/时间步长，则粒子跟踪器在时间步长期间运行多次。每次使用粒子跟踪器时，粒子都返回到时间步长开始时的原始状态。然后在当前连续相溶液的基础上对粒子进行时间推进，更新DPM源。如果粒子时间步长大于流体流动时间步长(允许以不同于流体的时间尺度注入粒子)，则仅在流体流动时间步长推进粒子

(瞬态流)如果指定DPM迭代间隔的值为零，则粒子在时间步长结束时被推进。请注意，如果您以前使用TUI命令define/models/ DPM /interaction/reset-sources-at-timestep在每个时间步开始时启用了DPM源项的重置?，一旦将DPM迭代间隔设置为零，Ansys Fluent将禁用此选项，因为此功能组合是不可取的

在启用与连续相交互的情况下，您必须提供足够数量的粒子源项更新，以确保粒子源项达到其最终值(参见图20.50:源项更新数量对应用于流方程的源项的影响(第2609页))。这可以通过将DPM松弛系数设置为1或在其他情况下通过启用每次流迭代更新DPM源来实现。如果后者被禁用并且DPM欠松弛因子小于1，那么您为DPM迭代间隔指定的值必须小于最大迭代/时间步长

注意：
在稳态离散相模型中，粒子之间不相互作用，并且在域中每次跟踪一个粒子。
如果使用碰撞模型，您将无法设置DPM迭代间隔。

